import{u as x,n as u,o,p as g,a as f,q as j,j as e,F as b,s as y,t as N,v as _}from"./index-BnSpTr-0.js";function v({category:m,doctors:c}){var n;const d=x();let a=localStorage.getItem("AccessToken");const p=u({category_id:o().required("Service is required"),doctor_id:o(),appointment_datetime:g().required("Appointment date and time are required"),name:a?o():o().required("Name is required"),phone:a?o():o().required("Phone is required"),gender:a?o():o().required("Gender is required")}),{dataService:s}=f(t=>t.serviceCategory),r=j({initialValues:{category_id:"",doctor_id:"",appointment_datetime:"",name:"",phone:"",gender:""},validationSchema:p,onSubmit:t=>{const i=new Date(t.appointment_datetime),l={name:t.name,phone:t.phone,gender:t.gender,category_id:t.category_id,doctor_id:t.doctor_id,appointment_date:i.toISOString().split("T")[0],appointment_time:i.toTimeString().slice(0,8)};console.log("appointmentData: ",l),a?d(_(l)).unwrap().then(h=>{document.getElementById("my_modal_3").showModal()}):d(N(l)).unwrap().then(h=>{document.getElementById("my_modal_3").showModal()})}});return e.jsxs("section",{id:"dd",className:"bg-[var(--primary-color)] p-10",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid md:flex",children:[e.jsx("div",{className:"left lg:flex me-5 lg:justify-center lg:items-start lg:flex-col text-white",children:e.jsxs(b,{direction:"up",children:[e.jsx("h2",{className:"font-bold text-4xl",children:"Leave your worries at the door and enjoy a healthier, more precise smile"}),e.jsx("p",{className:"my-10 lg:w-[70%]",children:`We use only the best quality materials on the market in order to
                provide the best products to our patients, So don't worry about
                anything and book yourself.`})]})}),e.jsx("div",{className:"right mt-5 lg:w-1/2 bg-white p-10",children:e.jsxs("form",{onSubmit:r.handleSubmit,className:"form-booking",children:[e.jsxs("h3",{className:"title text-3xl text-center mb-3 text-[var(--primary-color)]",children:["Request ",e.jsx("br",{})," Appointment"]}),a?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"text",id:"name",name:"name",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",placeholder:"Name",...r.getFieldProps("name")}),r.touched.name&&r.errors.name&&e.jsx("div",{className:"error text-red-500",children:r.errors.name})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"text",id:"phone",name:"phone",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",placeholder:"Phone",...r.getFieldProps("phone")}),r.touched.phone&&r.errors.phone&&e.jsx("div",{className:"error text-red-500",children:r.errors.phone})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{id:"gender",name:"gender",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("gender"),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Your Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),r.touched.gender&&r.errors.gender&&e.jsx("div",{className:"error text-red-500",children:r.errors.gender})]})]}),e.jsx("div",{className:"form-group flex flex-col w-full mb-5",children:e.jsxs("select",{className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",onChange:t=>{d(y(t.target.value))},children:[e.jsx("option",{value:"",selected:!0,className:"text-[#BDBDBD]",disabled:!0,children:"Select Department"}),m.map(t=>e.jsx("option",{value:t.ID,children:t.Name},t.ID))]})}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{id:"services",name:"category_id",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("category_id"),children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select Services"}),(n=s==null?void 0:s.data)==null?void 0:n.map(t=>e.jsx("option",{value:t==null?void 0:t.ID,children:t==null?void 0:t.Name},t==null?void 0:t.ID))]}),r.touched.category_id&&r.errors.category_id&&e.jsx("div",{className:"error text-red-500",children:r.errors.category_id})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{name:"doctor_id",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("doctor_id"),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Doctor"}),c.map(t=>e.jsx("option",{value:t.ID,children:t.Name},t.ID))]}),r.touched.doctor_id&&r.errors.doctor_id&&e.jsx("div",{className:"error text-red-500",children:r.errors.doctor_id})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"datetime-local",id:"appointment_datetime",name:"appointment_datetime",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("appointment_datetime")}),r.touched.appointment_datetime&&r.errors.appointment_datetime&&e.jsx("div",{className:"error text-red-500",children:r.errors.appointment_datetime})]}),e.jsx("div",{className:"form-group flex justify-center items-end bg-[var(--primary-color)] rounded-lg w-fit m-auto",children:e.jsx("button",{type:"submit",className:"text-white shadow hover:shadow-lg transition px-4 py-2 rounded-lg",children:"Request Appointment"})})]})})]})}),e.jsxs("dialog",{id:"my_modal_3",className:"modal",children:[e.jsxs("div",{className:"modal-box bg-white text-black",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Done!"}),e.jsx("p",{className:"py-4",children:"Successfully created!"})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})]})}export{v as R};
