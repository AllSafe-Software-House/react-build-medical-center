import{l as h,u as g,n as f,o as s,p as j,a as b,q as N,j as e,F as y,s as _,t as w,v}from"./index-BfNAhHpa.js";function q({category:m,doctors:p}){var i;const{t:o}=h("global"),d=g();let a=localStorage.getItem("AccessToken");const x=f({category_id:s().required("Service is required"),doctor_id:s(),appointment_datetime:j().required("Appointment date and time are required"),name:a?s():s().required("Name is required"),phone:a?s():s().required("Phone is required"),gender:a?s():s().required("Gender is required")}),{dataService:l}=b(t=>t.serviceCategory),r=N({initialValues:{category_id:"",doctor_id:"",appointment_datetime:"",name:"",phone:"",gender:""},validationSchema:x,onSubmit:t=>{const c=new Date(t.appointment_datetime),n={name:t.name,phone:t.phone,gender:t.gender,category_id:t.category_id,doctor_id:t.doctor_id,appointment_date:c.toISOString().split("T")[0],appointment_time:c.toTimeString().slice(0,8)};console.log("appointmentData: ",n),a?d(v(n)).unwrap().then(u=>{document.getElementById("my_modal_3").showModal()}):d(w(n)).unwrap().then(u=>{document.getElementById("my_modal_3").showModal()})}});return e.jsxs("section",{id:"dd",className:"bg-[var(--primary-color)] p-10",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid md:flex",children:[e.jsx("div",{className:"left lg:flex me-5 lg:justify-center lg:items-start lg:flex-col text-white",children:e.jsxs(y,{direction:"up",children:[e.jsx("h2",{className:"font-bold text-4xl",children:o("custom-text.bookTitle")}),e.jsx("p",{className:"my-10 lg:w-[70%]",children:o("custom-text.bookDesc")})]})}),e.jsx("div",{className:"right mt-5 lg:w-1/2 bg-white p-10",children:e.jsxs("form",{onSubmit:r.handleSubmit,className:"form-booking",children:[e.jsx("h3",{className:"title text-3xl text-center mb-3 text-[var(--primary-color)]",children:o("custom-text.bookAppoint")}),a?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"text",id:"name",name:"name",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",placeholder:o("custom-text.name"),...r.getFieldProps("name")}),r.touched.name&&r.errors.name&&e.jsx("div",{className:"error text-red-500",children:r.errors.name})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"text",id:"phone",name:"phone",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",placeholder:o("custom-text.phone"),...r.getFieldProps("phone")}),r.touched.phone&&r.errors.phone&&e.jsx("div",{className:"error text-red-500",children:r.errors.phone})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{id:"gender",name:"gender",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("gender"),children:[e.jsx("option",{value:"",disabled:!0,children:o("custom-text.gender")}),e.jsx("option",{value:"male",children:o("custom-text.male")}),e.jsx("option",{value:"female",children:o("custom-text.female")}),e.jsx("option",{value:"other",children:o("custom-text.other")})]}),r.touched.gender&&r.errors.gender&&e.jsx("div",{className:"error text-red-500",children:r.errors.gender})]})]}),e.jsx("div",{className:"form-group flex flex-col w-full mb-5",children:e.jsxs("select",{className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",onChange:t=>{d(_(t.target.value))},children:[e.jsx("option",{value:"",selected:!0,className:"text-[#BDBDBD]",disabled:!0,children:o("custom-text.selectDepart")}),m.map(t=>e.jsx("option",{value:t.ID,children:t.Name},t.ID))]})}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{id:"services",name:"category_id",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("category_id"),children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:o("custom-text.services")}),(i=l==null?void 0:l.data)==null?void 0:i.map(t=>e.jsx("option",{value:t==null?void 0:t.ID,children:t==null?void 0:t.Name},t==null?void 0:t.ID))]}),r.touched.category_id&&r.errors.category_id&&e.jsx("div",{className:"error text-red-500",children:r.errors.category_id})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsxs("select",{name:"doctor_id",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("doctor_id"),children:[e.jsx("option",{selected:!0,value:"",disabled:!0,children:o("custom-text.selDoctor")}),p.map(t=>e.jsx("option",{value:t.ID,children:t.Name},t.ID))]}),r.touched.doctor_id&&r.errors.doctor_id&&e.jsx("div",{className:"error text-red-500",children:r.errors.doctor_id})]}),e.jsxs("div",{className:"form-group flex flex-col w-full mb-5",children:[e.jsx("input",{type:"datetime-local",id:"appointment_datetime",name:"appointment_datetime",className:"rounded-lg border-[#3f3f3f] bg-white py-2 px-3",...r.getFieldProps("appointment_datetime")}),r.touched.appointment_datetime&&r.errors.appointment_datetime&&e.jsx("div",{className:"error text-red-500",children:r.errors.appointment_datetime})]}),e.jsx("div",{className:"form-group flex justify-center items-end bg-[var(--primary-color)] rounded-lg w-fit m-auto",children:e.jsx("button",{type:"submit",className:"text-white shadow hover:shadow-lg transition px-4 py-2 rounded-lg",children:o("custom-text.send")})})]})})]})}),e.jsxs("dialog",{id:"my_modal_3",className:"modal",children:[e.jsxs("div",{className:"modal-box bg-white text-black",children:[e.jsxs("h3",{className:"font-bold text-lg",children:[o("custom-text.done"),"!"]}),e.jsxs("p",{className:"py-4",children:[o("custom-text.success"),"!"]})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})]})}export{q as R};
